(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{3533:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var a=s(5155),r=s(2619),l=s.n(r),i=s(63);function n(){let e=(0,i.usePathname)();return(0,a.jsx)("div",{className:"card-professional p-4 mb-8",children:(0,a.jsxs)("nav",{className:"flex space-x-6",children:[(0,a.jsx)(l(),{href:"/admin/dashboard",className:"px-4 py-2 rounded-lg font-semibold transition-colors duration-300 ".concat("/admin/dashboard"===e?"bg-[var(--primary)] text-black":"text-white hover:text-[var(--primary)]"),children:"Dashboard"}),(0,a.jsx)(l(),{href:"/admin/usuarios",className:"px-4 py-2 rounded-lg font-semibold transition-colors duration-300 ".concat("/admin/usuarios"===e?"bg-[var(--primary)] text-black":"text-white hover:text-[var(--primary)]"),children:"Usu\xe1rios"}),(0,a.jsx)(l(),{href:"/admin/vendas",className:"px-4 py-2 rounded-lg font-semibold transition-colors duration-300 ".concat("/admin/vendas"===e?"bg-[var(--primary)] text-black":"text-white hover:text-[var(--primary)]"),children:"Vendas"}),(0,a.jsx)(l(),{href:"/admin/produtos",className:"px-4 py-2 rounded-lg font-semibold transition-colors duration-300 ".concat("/admin/produtos"===e?"bg-[var(--primary)] text-black":"text-white hover:text-[var(--primary)]"),children:"Cadastrar Produtos"})]})})}},7693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),l=s(6631),i=s(63),n=s(3533);function o(){let[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),h=(0,i.useRouter)(),[u,p]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[v,j]=(0,r.useState)("");return((0,r.useEffect)(()=>{(async()=>{let e=l.f.getCurrentUser();if(!e)return h.push("/login");if("ADMIN"!==e.role)return h.push("/perfil");t(e);let s=await l.H.user.findMany({});o(s),c(s),m(!1)})()},[h]),(0,r.useEffect)(()=>{let e=[...s];u&&(e=e.filter(e=>{var t,s;return(null==(t=e.name)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(s=e.email)?void 0:s.toLowerCase().includes(u.toLowerCase()))})),(f||v)&&(e=e.filter(e=>{let t=new Date(e.createdAt);return!(f&&t<new Date(f)||v&&t>new Date(v))})),c(e)},[u,f,v,s]),x)?(0,a.jsx)("div",{className:"flex justify-center items-center h-full text-white",children:"Carregando..."}):e?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Usu\xe1rios"}),(0,a.jsxs)("p",{className:"text-[var(--muted-foreground)]",children:["Bem-vindo, ",e.name]})]}),(0,a.jsx)("button",{onClick:()=>{l.f.logout(),h.push("/login")},className:"btn-secondary px-6 py-3 rounded-lg",children:"Sair"})]}),(0,a.jsx)(n.z,{}),(0,a.jsxs)("div",{className:"card-professional p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Filtros"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-semibold text-white mb-2",children:"Buscar por Nome ou Email"}),(0,a.jsx)("input",{id:"search",type:"text",value:u,onChange:e=>p(e.target.value),className:"input-professional w-full px-4 py-2",placeholder:"Digite o nome ou email..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-semibold text-white mb-2",children:"Data Inicial"}),(0,a.jsx)("input",{id:"startDate",type:"date",value:f,onChange:e=>b(e.target.value),className:"input-professional w-full px-4 py-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-semibold text-white mb-2",children:"Data Final"}),(0,a.jsx)("input",{id:"endDate",type:"date",value:v,onChange:e=>j(e.target.value),className:"input-professional w-full px-4 py-2"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{onClick:()=>{p(""),b(""),j("")},className:"btn-secondary w-full py-2",children:"Limpar Filtros"})})]})]}),(0,a.jsxs)("div",{className:"card-professional p-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Todos os Usu\xe1rios (",d.length,")"]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-[var(--border)]",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-white font-semibold",children:"Nome"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-white font-semibold",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-white font-semibold",children:"Tipo"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-white font-semibold",children:"Data Cadastro"})]})}),(0,a.jsx)("tbody",{children:d.map(e=>(0,a.jsxs)("tr",{className:"border-b border-[var(--border)] hover:bg-[var(--glow)]/10 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:e.name}),(0,a.jsx)("td",{className:"py-3 px-4 text-[var(--muted-foreground)]",children:e.email}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("ADMIN"===e.role?"bg-[var(--primary)]/20 text-[var(--primary)]":"bg-green-500/20 text-green-400"),children:e.role})}),(0,a.jsx)("td",{className:"py-3 px-4 text-[var(--muted-foreground)]",children:new Date(e.createdAt).toLocaleDateString("pt-BR")})]},e.id))})]})})]})]}):null}},8927:(e,t,s)=>{Promise.resolve().then(s.bind(s,7693))}},e=>{e.O(0,[619,940,441,255,358],()=>e(e.s=8927)),_N_E=e.O()}]);